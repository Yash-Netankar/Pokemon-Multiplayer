(this.webpackJsonpPokemon=this.webpackJsonpPokemon||[]).push([[0],{161:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var a,c,r,s,o,i,l=n(2),u=n(0),d=n(9),j=n.n(d),m=n(52),b=n(11),h=n(44),O=n.n(h),p=n(65),x=n(15),f=n(66),y=n.n(f),v=n(195),_=n(96),g=n.n(_),N=n(98),S=n.n(N),w=n(97),k=n.n(w),T=n(69),C=n.n(T),q=n(194),E=n(54),A=n.n(E),R=A.a.connect("/"),D={},Y=0,I={color:"#ff4757"},G={display:"block"},J={display:"none"},L=function(){var e=Object(b.f)(),t=e.name,n=e.room,a=(Object(b.e)(),Object(u.useState)(1)),c=Object(x.a)(a,2),r=c[0],s=c[1],o=Object(u.useState)(),i=Object(x.a)(o,2),d=i[0],j=i[1],m=Object(u.useState)(),h=Object(x.a)(m,2),f=h[0],_=h[1],N=Object(u.useState)(""),w=Object(x.a)(N,2),T=w[0],E=w[1],A=Object(u.useState)(10),L=Object(x.a)(A,2),P=L[0],V=L[1],z=Object(u.useState)(10),B=Object(x.a)(z,2),Z=B[0],$=B[1],F=Object(u.useState)(!1),M=Object(x.a)(F,2),U=M[0],H=M[1],K=Object(u.useState)(!1),Q=Object(x.a)(K,2),W=Q[0],X=Q[1],ee=Object(u.useState)(""),te=Object(x.a)(ee,2),ne=te[0],ae=te[1],ce=Object(u.useState)([]),re=Object(x.a)(ce,2),se=re[0],oe=re[1],ie=Object(u.useState)(!0),le=Object(x.a)(ie,2),ue=le[0],de=le[1],je=function(){var e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://pokeapi.co/api/v2/pokemon/?limit=691");case 2:e.sent.data.results.forEach((function(e){y.a.get(e.url).then((function(e){D[e.data.name]=[e.data.moves.length,e.data.sprites.front_default]}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){var e=setInterval((function(){$(Z-1)}),1e3);setTimeout((function(){de(!1),clearInterval(e)}),1e4)}),[Z]),Object(u.useEffect)((function(){je();var e=document.querySelector(".msg_box");R.emit("join",n),R.on("list_of_users",(function(e){oe(e)})),R.on("chat-msg-send",(function(t){var n=document.createElement("div");n.classList.add("msg_div");var a=document.createElement("h4");a.classList.add("name"),a.innerText=t.name;var c=document.createElement("p");c.classList.add("msg"),c.innerText=t.msg,n.append(a),n.append(c),e.append(n)})),R.on("winner",(function(e){document.querySelector(".".concat(e.winner,"-score")).innerText=e.score,document.querySelector(".play_btn").disabled=!1,document.querySelector(".play_btn").style.display="block",Y++})),R.on("set_rounds",(function(e){var t=parseInt(e.round);V(t),document.querySelector(".round_head").innerText="You'll be playing ".concat(t," rounds.")})),R.on("game_winner",(function(e){document.querySelector(".winner").innerText="".concat(e.name," wins this game by ").concat(e.score," points.")})),R.on("disconnect_user",(function(e){oe(e)}))}),[]);var me=function(){var e=Object(p.a)(O.a.mark((function e(a){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),Y===P?R.emit("winner",n):(c=D[Object.keys(D)[r]],r>=1&&r<=690?(j(Object.keys(D)[r]),_(c[0]),E(c[1]),document.querySelector(".play_btn").disabled=!0,document.querySelector(".play_btn").style.display="none",R.emit("play",{name:t,room:n,moves:c[0]})):alert("Number Should be greater than 0 and less than 690"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"begin",style:ue?G:J,children:Object(l.jsxs)("h1",{style:{textAlign:"center"},children:["The Game will Begin in ",Z," seconds..."]})}),Object(l.jsxs)("div",{className:"game_container",style:ue?J:G,children:[Object(l.jsxs)("header",{className:"game_header",children:[Object(l.jsxs)("div",{className:"logo",children:[Object(l.jsx)(v.a,{className:"chat_btn",onClick:function(){H(!0),X(!1)},children:Object(l.jsx)(g.a,{})}),Object(l.jsx)("h1",{children:"Pokemon"})]}),Object(l.jsx)(v.a,{onClick:function(){H(!1),X(!0)},children:Object(l.jsx)(k.a,{})})]}),Object(l.jsxs)("div",{className:U?"sidebar1 show":"sidebar1",children:[Object(l.jsxs)("section",{className:"sidebar1_head",children:[Object(l.jsx)("h1",{children:"Chats"}),Object(l.jsx)(v.a,{onClick:function(){return H(!1)},children:Object(l.jsx)(C.a,{})})]}),Object(l.jsxs)("main",{className:"chat_body",children:[Object(l.jsx)("div",{className:"msg_box"}),Object(l.jsxs)("form",{className:"msg_input_box",onSubmit:function(e){e.preventDefault(),ne.length>=100?alert("Message should contain only 100 chars."):(R.emit("chat-msg",{room:n,name:t,msg:ne}),ae(""),document.querySelector("#standard-basic").focus())},autoComplete:"off",children:[Object(l.jsx)(q.a,{id:"standard-basic",label:"Your Message",onChange:function(e){return ae(e.target.value)},value:ne,style:{width:"85%"}}),Object(l.jsx)(v.a,{type:"submit",className:"send-btn",children:Object(l.jsx)(S.a,{})})]})]})]}),Object(l.jsxs)("div",{className:W?"sidebar2 show":"sidebar2",children:[Object(l.jsxs)("section",{className:"sidebar2_head",children:[Object(l.jsx)("h1",{children:"Users"}),Object(l.jsx)(v.a,{onClick:function(){return X(!1)},children:Object(l.jsx)(C.a,{})})]}),Object(l.jsx)("ul",{className:"users_list",children:se.map((function(e,t){return Object(l.jsx)("li",{children:e},t)}))})]}),Object(l.jsx)("h1",{style:{margin:"1rem auto",textAlign:"center"},className:"winner",children:"."}),Object(l.jsxs)("div",{className:"leaderboard",children:[Object(l.jsx)("h1",{children:"LEADERBOARD"}),Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:se.map((function(e,t){return Object(l.jsx)("th",{children:e},t)}))})}),Object(l.jsx)("tbody",{children:Object(l.jsx)("tr",{children:se.map((function(e,t){return Object(l.jsx)("td",{className:"".concat(e,"-score"),children:"0"},t)}))})})]})]}),Object(l.jsxs)("div",{className:"rounds",style:{border:"1px solid black"},children:[Object(l.jsx)("h2",{style:{textAlign:"center"},className:"round_head",children:"Set Number Of Rounds You all gonna play, before you start playing this game"}),Object(l.jsxs)("form",{className:"rounds_div",autoComplete:"off",onSubmit:function(e){e.preventDefault(),P>=10&&P<=500?R.emit("round",{round:P,room:n}):alert("You can play maximum 500 rounds and minimum 10.")},children:[Object(l.jsx)("input",{type:"number",className:"round_ip",placeholder:"Enter Number Of Rounds You'all gonna play",onChange:function(e){return V(e.target.value)},value:P,min:"10",max:"500"}),Object(l.jsx)(v.a,{type:"submit",className:"round_btn",children:"Set"})]})]}),Object(l.jsxs)("div",{className:"card-container",children:[Object(l.jsxs)("form",{autoComplete:"off",className:"card_input",onSubmit:me,children:[Object(l.jsx)("input",{type:"number",onChange:function(e){s(e.target.value)},value:r,placeholder:"Enter Card no",className:"num_input"}),Object(l.jsx)(v.a,{type:"submit",className:"play_btn",children:"Play"})]}),Object(l.jsxs)("div",{className:"card",style:{background:"linear-gradient(to left top, #ffffff52, black), url(".concat(T,")")},children:[Object(l.jsx)("div",{className:"img-div",children:T?Object(l.jsx)("img",{src:T,alt:d}):""}),Object(l.jsxs)("h1",{children:["You Select ",Object(l.jsx)("span",{style:I,children:d})]}),Object(l.jsxs)("h3",{children:[d," has ",Object(l.jsx)("span",{style:I,children:f})," moves"]})]})]})]})]})},P=function(e){var t=e.showTabs,n=e.Validate;return Object(l.jsxs)("form",{onSubmit:n,className:t.tab1?"tab1 show":"tab1",autoComplete:"off",children:[Object(l.jsx)("p",{children:"NOTE: Only 7 players can join one Gameroom."}),Object(l.jsx)("p",{className:"error_div_create error"}),Object(l.jsx)("input",{type:"text",placeholder:"Create Room Name",className:"input_room",min:"2",max:"7",required:!0}),Object(l.jsx)("input",{type:"Number",placeholder:"Enter Number of players joining",className:"input_player_create",min:"2",max:"7",required:!0}),Object(l.jsx)(v.a,{type:"submit",className:"create",children:"Create"}),Object(l.jsx)("p",{className:"gameID"})]})},V=function(e){var t=e.showTabs,n=e.Validate;return Object(l.jsxs)("form",{onSubmit:n,className:t.tab2?"tab2 show":"tab2",autoComplete:"off",children:[Object(l.jsx)("p",{children:"Enter Your Game ID here to join the game"}),Object(l.jsx)("p",{className:"error_div_join error"}),Object(l.jsx)("input",{type:"text",placeholder:"Enter Your NickName",className:"input_player",required:!0}),Object(l.jsx)("input",{type:"text",placeholder:"Enter Room Name",className:"input_room input_room_join",required:!0}),Object(l.jsx)(v.a,{type:"submit",className:"join",children:"Join"})]})},z=A.a.connect("/"),B=function(){var e=Object(b.e)(),t=Object(u.useState)(2),n=Object(x.a)(t,2),d=n[0],j=n[1];Object(u.useEffect)((function(){r=document.querySelector(".input_room"),o=document.querySelector(".input_player_create"),(a=document.querySelector(".error_div_create")).innerText="",i=document.querySelector(".input_room_join"),s=document.querySelector(".input_player"),(c=document.querySelector(".error_div_join")).innerText="",z.on("room_created_error",(function(e){a.innerText="".concat(e.msg)})),z.on("room_joined_error",(function(e){c.innerText=e.msg}))}),[]);var m=Object(u.useState)({tab1:!0,tab2:!1}),h=Object(x.a)(m,2),O=h[0],p=h[1];return Object(l.jsx)("div",{className:"menu_container",children:Object(l.jsxs)("div",{className:"tabs_div",children:[Object(l.jsxs)("header",{className:"tab_head",children:[Object(l.jsx)(v.a,{className:"head_btn create_btn",onClick:function(){p({tab1:!0,tab2:!1})},children:"Create Game"}),Object(l.jsx)(v.a,{className:"head_btn join_btn",onClick:function(){p({tab1:!1,tab2:!0})},children:"Join Game"})]}),Object(l.jsx)(P,{showTabs:O,Validate:function(e){e.preventDefault();r.value.length<=12&&r.value.length>=3?/^([a-zA-Z]{3,12})\d{0,4}$/.test(r.value)?(z.emit("create_room",{room:r.value,players:o.value}),z.on("room_created",(function(e){e.room&&(a.innerText="Game Room '".concat(e.room,"' \n                        Created"),j(e.players))}))):a.innerText="Enter A Room name that Starts with alphabets & can only have 4 digits!!":a.innerText="Room name should have atleast 3 characters & atmost 12 characters!!"}}),Object(l.jsx)(V,{showTabs:O,Validate:function(t){t.preventDefault();s.value.length<=12&&s.value.length>=3?/^([a-zA-Z]){3,12}([@\s-_.]?)\d{0,2}$/.test(s.value)?/^([a-zA-Z]{3,12})\d{0,4}$/.test(i.value)?(z.emit("join_room",{room:i.value,name:s.value,players:d}),z.on("room_joined",(function(t){t.joined?(c.innerText="Joined!!",e.push("/game/".concat(s.value,"/").concat(i.value))):e.push("/")}))):c.innerText="Invalid Room Name!! Check what name you've got and correct.":c.innerText="Name should begin with Alphabets, can have 2 digits & only '@', '-'m, '_' as spacial characters.":c.innerText="Name should have atleast 3 characters & atmost 12 characters!!"}})]})})},Z=(n(161),function(){return Object(l.jsxs)(m.a,{children:[Object(l.jsx)(b.a,{path:"/",exact:!0,render:function(){return Object(l.jsx)(B,{})}}),Object(l.jsx)(b.a,{path:"/game/:name/:room",exact:!0,render:function(){return Object(l.jsx)(L,{})}})]})});j.a.render(Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Z,{})}),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.abf2095c.chunk.js.map